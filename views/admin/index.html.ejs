<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.2.3/cyborg/bootstrap.min.css" integrity="sha512-6JM8AUNiR0PhS+P/orbIggnQlkVEG7fUoO6ve7XWNGGGL0mOfLPSYuBo4/31Ig5KiC1T9Ep5yw8R12E2qaI2hQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body class="py-5">
    <div class="container">
      <div class="row g-3">
        <% shortcodes.forEach(shortcode => { %>
        <div class="col-12 col-md-6 col-lg-4">
          <%- include('shortcode-card.html.ejs', { appRoot, shortcode }) %>
        </div>
        <% }) %>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js" integrity="sha512-bgHRAiTjGrzHzLyKOnpFvaEpGzJet3z4tZnXGjpsCcqOnAH6VGUx9frc5bcIhKTVLEiCO6vEhNAgx5jtLUYrfA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript">
      hljs.highlightAll();
      var deleteButtons = document.querySelectorAll("[data-delete]");
      deleteButtons.forEach(function (deleteButton) {
        deleteButton.addEventListener("click", function (e) {
          var deleteId = e.target.dataset.delete;
          var xhr = new XMLHttpRequest();
          xhr.addEventListener("load", function () { window.location.reload() });
          xhr.open("DELETE", "<%=appRoot%>/admin/api/shortcodes/" + deleteId);
          xhr.send();
        });
      });
    </script>
  </body>
</html>
